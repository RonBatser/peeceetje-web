/*Fetching and handling location from Facbook API*/const locationUrl = "/facebooklocation";const loadData = function(){    fetch(locationUrl)        .then(checkStatus)        .then(function (response){            return response.json();        })        .then(locationDataSuccess)        .catch(locationDataFail);};function checkStatus(response) {    if (response.status >= 200 && response.status < 300) {      return response    } else {      const error = new Error(response.statusText);      error.response = response;      throw error    }  }const locationDataSuccess = function(data){    data = JSON.parse(data);    $("#contactDataContainer").find('.loading').remove();    buildMap(data.location);    buildAside(data);};const locationDataFail = function(error){    console.error(error);    let html = ('Oops, er ging iets fout. De locatiegevens konden niet geladen worden. <a href="https://www.facebook.be/peeceetje">Bezoek onze facebook pagina voor onze locatiegegevens.</a>')    $("#contactDataContainer").find('.loading').html(html);};/*Loading map*/const buildMap = function(locationData){    $("#contactDataContainer").append('<div class="col-lg-9"><div class="card" id="mapid"></div></div>');    initmap(locationData.latitude, locationData.longitude);};const buildAside = function(data){    let html = `<aside class="contactinfo col-lg-3"> <div class="card bg-yellow text-center">                    <h3>Jeugdhuis PEECEE\'tje</h3><address> <i class="fas fa-building"></i>                        <p>${data.location.street}</p>                        <p>${data.location.zip} ${data.location.city}</p>                        </address>`;    if (data.phone !== undefined) html += `<p><i class="fas fa-phone"></i>${data.phone}</p>`;    html += '<a href="https://www.facebook.com/jcPeeCeetje/"><i class="fab fa-facebook"></i>Like us on Facebook!</a>';    html += '</div></aside>';    $("#contactDataContainer").append(html);};const initmap =  function(lat, long){    let mymap = L.map('mapid').setView([lat,long], 17);    L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',    maxZoom: 18,    id: 'mapbox.streets',    accessToken: 'pk.eyJ1Ijoib3NpcmlzMTMzNyIsImEiOiJjam83YmtxdWIwMGowM2xuNGFhMHVwa25nIn0.F3fiugJPSPGZreCgrOnuDQ'    }).addTo(mymap);    const peeceeIcon = L.icon({        iconUrl: '../assets/media/logo/logo.svg',        iconSize:     [38, 95], // size of the icon        iconAnchor:   [12, 64], // point of the icon which will correspond to marker's location        popupAnchor:  [8, -32] // point from which the popup should open relative to the iconAnchor    });    const marker = L.marker([50.81844,3.28555], {icon: peeceeIcon}).addTo(mymap);    marker.bindPopup("<b>Jeugdhuis PEECEE'tje</b>").openPopup();}$(document).ready(function(){    loadData()});